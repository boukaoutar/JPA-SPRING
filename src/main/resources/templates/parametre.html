<!DOCTYPE html>
<html lang="en" xmlns:th="http://thymleaf.org">


  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <!-- Meta, title, CSS, favicons, etc. -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    
    
  
	<link rel="icon" href="images/favicon.ico" type="image/ico" />

    <title>Paramètre </title>

<!-- Datatables -->
    <link href="vendors/datatables.net-bs/css/dataTables.bootstrap.min.css" rel="stylesheet">
    <link href="../vendors/datatables.net-buttons-bs/css/buttons.bootstrap.min.css" rel="stylesheet">
    <link href="../vendors/datatables.net-fixedheader-bs/css/fixedHeader.bootstrap.min.css" rel="stylesheet">
    <link href="../vendors/datatables.net-responsive-bs/css/responsive.bootstrap.min.css" rel="stylesheet">
    <link href="../vendors/datatables.net-scroller-bs/css/scroller.bootstrap.min.css" rel="stylesheet">
    <!-- Bootstrap -->
    <link href="../vendors/bootstrap/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Font Awesome -->
    <link href="vendors/font-awesome/css/font-awesome.min.css" rel="stylesheet">
    <!-- NProgress -->
    <link href="vendors/nprogress/nprogress.css" rel="stylesheet">
    <!-- iCheck -->
    <link href="vendors/iCheck/skins/flat/green.css" rel="stylesheet">
	
    <!-- bootstrap-progressbar -->
    <link href="vendors/bootstrap-progressbar/css/bootstrap-progressbar-3.3.4.min.css" rel="stylesheet">
    <!-- JQVMap -->
    <link href="vendors/jqvmap/dist/jqvmap.min.css" rel="stylesheet"/>
    <!-- bootstrap-daterangepicker -->
    <link href="vendors/bootstrap-daterangepicker/daterangepicker.css" rel="stylesheet">

    <!-- Custom Theme Style -->
    <link href="build/css/custom.min.css" rel="stylesheet">
  </head>
  
     
  <body class="nav-md">
  

    <div class="container body">
      <div class="main_container">
        

<!--     <div class="repetition"> </div> -->

<div th:replace = "form :: form1">
</div>

          <!-- /top navigation -->

        <!-- page content -->
        <div class="right_col" role="main">
<!--           <div class=""> -->
            <div class="page-title">
              <div class="title_left">
               <!-- <h3>Paramètre General</h3>  --> 
              </div>

            
              <br>
            </div>

            <div class="clearfix"></div>

<!--             <div class=""> -->
              <div class="col-md-12 col-sm-6 col-xs-12">
                <div class="x_panel">
                  <div class="x_title">
                    <h2><i class="fa fa-cog"></i> Paramètrage </h2>
                    <ul class="nav navbar-right panel_toolbox">
                        <li><a class="collapse-link"><i class="fa fa-chevron-up"></i></a>
                        </li>
                      </ul> 
                    <div class="clearfix"></div>
                  </div>
                  <div class="x_content">


                    <div class="" role="tabpanel" data-example-id="togglable-tabs">
                      <ul id="myTab" class="nav nav-tabs bar_tabs" role="tablist">
                        <li role="presentation" th:class="${monorganisation}"><a href="#tab_content1" id="home-tab" role="tab" data-toggle="tab" aria-expanded="true">Mon organisation </a>
                        </li>
                        <li role="presentation" th:class="${administration}"><a href="#tab_content2" role="tab" id="profile-tab" data-toggle="tab" aria-expanded="false">Administrateurs</a>
                        </li>
                        <li role="presentation" th:class="${assoc}"><a href="#tab_content3" role="tab" id="profile-tab2" data-toggle="tab" aria-expanded="false">Changer l'association</a>
                        </li>
                         
                      </ul>
                      <div id="myTabContent" class="tab-content">
                        
                        <div role="tabpanel" th:class="${monorganisationin}" id="tab_content1" aria-labelledby="home-tab">

                         <div class="col-md-12 col-xs-12">
                <div class="x_panel">
                  <div class="x_title">
                    <h2>Informations de l'organisme</h2>
                    <ul class="nav navbar-right panel_toolbox"> 
                       <li><a class="collapse-link"><i class="fa fa-chevron-up"></i></a> 
                    </li>
                    
                      
                    </ul>
                    <div class="clearfix"></div>
                  </div>
                  <div class="x_content">
                    <br />
                    <form th:action="@{'/updateOrga'(idorga=${organismes.getIdOrganisme()})}" method="post" class="form-horizontal form-label-left">
                    
                    
                    
<!-- 			<div style="margin-left: 340px;" class="form-group"> -->
<!-- 			<div class="col-md-3 col-sm-3 col-xs-12 profile_left"> -->
<!--                  <div style="width: 250px;" class="profile_img"> -->
<!--                      <div id="crop-avatar"> -->
<!--      <img style="width: 180px; height : 180px;"  src="http://ssl.gstatic.com/accounts/ui/avatar_2x.png" class="avatar " alt="avatar"> -->
        
        
        
<!--         <br> <br> <br> <br> <br> <br> <br> <br> <br> <br> -->
<!--         <h6 style="margin-left: 30px;" > Télécharger votre logo ... </h6> -->
       
<!--      <input type="file" class=" file-upload">  -->
<!--       </div></div></div></div><br> -->

                      <div class="form-group">
                         <label class="control-label col-md-3 col-sm-3" for="first-name">Nom <span class="required">*</span>
                            </label>
                            <div class="col-md-6 col-sm-6">
                              <input th:value = "${organismes.getNom_association()}" type="text"  name="firstname2" id="first-name2" required="required" class="form-control col-md-7 col-xs-12">
                            </div>
                          </div>
                              <div class="form-group">
                        <label class="control-label col-md-3 col-sm-3 ">Ville <span class="required">*</span></label>
                        <div class="col-md-6 col-sm-6">
                          <select  name="ville" class="select2_group form-control">
                          
    <option th:text="${organismes.getVille().getNom()}" th:value="${organismes.getVille().getIdVille()}"></option>
    <option th:each="t : ${villeList}" th:if="${t.getNom()!=organismes.getVille().getNom()}"   th:value="${t.getIdVille()}" th:text="${t.getNom()}"></option>

                          </select>
                        </div>
                      </div>
                    <div class="form-group">
                            <label for="middle-name" class="control-label col-md-3 col-sm-3">Adresse <span class="required">*</span></label>
                            <div class="col-md-6 col-sm-6">
                              <input th:value = "${organismes.getAdresse()}" id="middle-name2" class="form-control col-md-7 col-xs-12" type="text"  name="adresse" >
                            </div>
                          </div>
                          
                           <div class="form-group"> </div>
                           
                      <div class="form-group">
                         <div class="form-group">
                            <label class="control-label col-md-3 col-sm-3" for="email">Email de contact <span class="required">*</span>
                            </label>
                            <div class="col-md-6 col-sm-6">
                              <input  th:value = "${organismes.getStructure().getEmail()}" type="text" name="mailcontact" required="required" class="form-control col-md-7 col-xs-12">
                            </div>
                          </div>
                          
                          <div class="form-group">
                            <label for="middle-name" class="control-label col-md-3 col-sm-3">Telephone de contact <span class="required">*</span></label>
                            <div class="col-md-6 col-sm-6">
                              <input  th:value = "${organismes.getStructure().getTelephone()}" class="form-control col-md-7 col-xs-12" type="text" name="telcontact">
                            </div>
                          </div>
                          
                          
                          <div class="form-group">
                            <label class="control-label col-md-3 col-sm-3" for="fix">Fixe de contact <span class="required">*</span>
                            </label>
                            <div class="col-md-6 col-sm-6">
                              <input th:value = "${organismes.getStructure().getFix()}" type="text" name="fixcontact" required="required" class="form-control col-md-7 col-xs-12">
                            </div>
                          </div>
                  
                      </div>
                      <div class="form-group">
                            <label class="control-label col-md-3 col-sm-3" for="siteW">Site Web <span class="required">*</span>
                            </label>
                            <div class="col-md-6 col-sm-6">
                              <input th:value = "${organismes.getStructure().getSiteWeb()}"  type="text" name="siteweb"required="required" class="form-control col-md-7 col-xs-12">
                            </div>
                          </div>
                    
                    <div class="form-group">
                        <label class="control-label col-md-3 col-sm-3 col-xs-12">Type d'association <span class="required">*</span></label>
                        <div class="col-md-6 col-sm-6 ">
                          <select class="form-control" name="typeassoc">
                          
                            
    <option th:text="${organismes.getTypeorganisme().getNom()}" th:value="${organismes.getTypeorganisme().getId_typeOrga()}"></option>
    <option th:each="t : ${orgaList}" th:if="${t.getNom()!=organismes.getTypeorganisme().getNom()}"   th:value="${t.getId_typeOrga()}" th:text="${t.getNom()}"></option>
                            
                            
                          </select>
                        </div>
                      </div>
                      
					<div class="form-group">
		                        <label class="control-label col-md-3 col-sm-3 col-xs-12">Objectif de l'association <span class="required">*</span>
		                        </label>
		                        <div class="col-md-6 col-sm-6">
		                          <textarea th:text = "${organismes.getStructure().getObjectif()}"  name="objectif" class="form-control" rows="3" placeholder="Objectif principal"></textarea>
		                        </div>
		                      </div>

                           <div class="form-group">
              
               <label for="middle-name" class="control-label col-md-3 col-sm-3"> Date Création <span class="required">*</span></label>
                      <div class="col-md-6 col-sm-6">
                       <div class='input-group date' id='myDatepicker2'>
<!--                             <input type='text' class="form-control"id="dateDebut" name="dateDebut" /> -->
                            <input disabled="disabled" th:value = "${organismes.getStructure().getDateCreation()}"  type='text' name="date" class="form-control col-md-7 col-xs-12" />
                             <span class="input-group-addon">
                               <span class="glyphicon glyphicon-calendar"></span>
                            </span>
     <span th:if="${MsgDate}" role="alert" th:text="${MsgDate}" style="color:#FF0000"></span>
<!--    </div> -->
 
  </div>
<!--                         <div class='input-group date' > -->
<!--                             <input th:value = "${organismes.getStructure().getDateCreation()}"  type='text' name="date" class="form-control col-md-7 col-xs-12" /> -->
<!--                             <span class="input-group-addon"> -->
<!--                                <span class="glyphicon glyphicon-calendar"></span> -->
<!--                             </span> -->
<!--                         </div> -->
                    		</div>
                    		</div>
                     


                      <div class="ln_solid"></div>
                      <div class="form-group">
                        <div class="col-md-9 col-sm-9 col-xs-12 col-md-offset-3">
                        <!--  <button type="button" class="btn btn-primary">Cancel</button> --> 
                          <button type="reset" class="btn btn-primary">Réinitialiser</button>
                          <button type="submit" class="btn btn-success">Enregistrer</button>
                        </div>
                      </div>

                    </form>
                    </div>
                  </div>
                </div>
              </div>
                        
                        
                        <div role="tabpanel" th:class="${administrationin}" id="tab_content2" aria-labelledby="profile-tab">
             <div class="col-md-12 col-sm-12 col-xs-12">
                <div class="x_panel">
                  <div class="x_title">
                    <h2>Liste des administrateurs</small></h2>
                    <ul class="nav navbar-right panel_toolbox">
                      <li><a class="collapse-link"><i class="fa fa-chevron-up"></i></a>
                      </li>
                      
                      
                    </ul> 
                    <div class="clearfix"></div>
                  </div>
                  <div class="x_content">
                   <!-- <button style="margin-left: 290px; margin-bottom:30px; margin-top:10px;" type="button" class="btn btn-round btn-success">Retirer les administrateurs séléctionnés</button> -->
                   <br>
                    <table  class="table table-striped table-bordered bulk_action">
                      <thead>
                        <tr>
                         
                          <th>Nom</th>
                          <th>Prènom</th>
                          <th>Email</th>
                          <th>CIN </th>
                          <th>Date de naissance</th>
                          <th> Date d'adhésion</th>
                        </tr>
                      </thead>


                      <tbody>
                        <tr th:each="contact : ${contacts}" th:if= "${contact.getTypecontact().getNom()=='admin'}">
                        
                         
                          <td th:text="${contact.getNom()}"></td>
                          <td th:text="${contact.getPrenom()}"></td>
                          <td th:text="${contact.getEmail()}"></td>
                          <td th:text="${contact.getCin()}"></td>
                          <td th:text="${contact.getDateNaiss()}"></td>
                          <td th:text="${contact.getDateAdhesion()}"></td>
                        </tr>
                        
                        
                      </tbody>
                    </table>
                  </div>
                </div>
              </div>
                        </div>
                        <div role="tabpanel" th:class="${associn}" id="tab_content3" aria-labelledby="profile-tab">
                           <div class="col-md-12 col-sm-12 col-xs-12">
                <div class="x_panel">
                  <div class="x_title">
                    <h2>Mes associations </h2>
                     <ul class="nav navbar-right panel_toolbox">
                      <li><a class="collapse-link"><i class="fa fa-chevron-up"></i></a>
                      </li>
                      
                      
                    </ul> 
                    <div class="clearfix"></div>
                  </div>
                  <div class="x_content">

                    <table class="table table-striped ">
                      <thead>
                        <tr>
<!--                           <th>#</th> -->
                          <th>Nom</th>
                          <th>Mon role</th>
                         <th></th>
                        </tr>
                      </thead>
                      <tbody   th:each="index : ${#numbers.sequence( 0, #arrays.length(orga)-1)}"  >
                        <tr th:if = "${orga[index].getNom_association()!=organismes.getNom_association()}">
<!--                           <th scope="row"><div th:text ="${orga.getId()}"/></th> -->
                          <td> <div  th:text="${orga[index].getNom_association()}" /></td>
                         <td> <div  th:text="${typecon[index].getNom()}" /></td>
                       	<td  ><a id="Delete" name="Delete" th:href="@{'/reconnect'(nomorganisme=${orga[index].getNom_association()})}"><i class="glyphicon glyphicon-log-in"></i></a></td> 
                        </tr>

                      </tbody>
                    </table>

                  </div>
                </div>
              </div>
                        </div>
                       
                     
                    </div>

                  </div>
                </div>
              </div> </div> </div> </div> </div>
<!--                </div> </div>  -->
        

    <!-- jQuery -->
    <script src="vendors/jquery/dist/jquery.min.js"></script>
    <!-- Bootstrap -->
    <script src="vendors/bootstrap/dist/js/bootstrap.min.js"></script>
    <!-- FastClick -->
    <script src="vendors/fastclick/lib/fastclick.js"></script>
    <!-- NProgress -->
    <script src="vendors/nprogress/nprogress.js"></script>
    <!-- Chart.js -->
    <script src="vendors/Chart.js/dist/Chart.min.js"></script>
    <!-- gauge.js -->
    <script src="vendors/gauge.js/dist/gauge.min.js"></script>
    <!-- bootstrap-progressbar -->
    <script src="vendors/bootstrap-progressbar/bootstrap-progressbar.min.js"></script>
    <!-- iCheck -->
    <script src="vendors/iCheck/icheck.min.js"></script>
    <!-- Skycons -->
    <script src="vendors/skycons/skycons.js"></script>
    <!-- Flot -->
    <script src="static/vendors/Flot/jquery.flot.js"></script>
    <script src="static/vendors/Flot/jquery.flot.pie.js"></script>
    <script src="static/vendors/Flot/jquery.flot.time.js"></script>
    <script src="static/vendors/Flot/jquery.flot.stack.js"></script>
    <script src="static/vendors/Flot/jquery.flot.resize.js"></script>
    <!-- Flot plugins -->
    <script src="static/vendors/flot.orderbars/js/jquery.flot.orderBars.js"></script>
    <script src="static/vendors/flot-spline/js/jquery.flot.spline.min.js"></script>
    <script src="static/vendors/flot.curvedlines/curvedLines.js"></script>
    <!-- DateJS -->
    <script src="static/vendors/DateJS/build/date.js"></script>
    <!-- JQVMap -->
    <script src="static/vendors/jqvmap/dist/jquery.vmap.js"></script>
    <script src="static/vendors/jqvmap/dist/maps/jquery.vmap.world.js"></script>
    <script src="static/vendors/jqvmap/examples/js/jquery.vmap.sampledata.js"></script>
    <!-- bootstrap-daterangepicker -->
    <script src="vendors/moment/min/moment.min.js"></script>
    <script src="vendors/bootstrap-daterangepicker/daterangepicker.js"></script>
  
    <!-- jQuery Sparklines -->
    <script src="vendors/jquery-sparkline/dist/jquery.sparkline.min.js"></script>
        <!-- easy-pie-chart -->
    <script src="vendors/jquery.easy-pie-chart/dist/jquery.easypiechart.min.js"></script>
    <!-- jQuery Smart Wizard -->
    <script src="vendors/jQuery-Smart-Wizard/js/jquery.smartWizard.js"></script>
    <!-- bootstrap-datetimepicker -->    
    <script src="vendors/bootstrap-datetimepicker/build/js/bootstrap-datetimepicker.min.js"></script>
      <!-- bootstrap-daterangepicker -->
    <script src="vendors/moment/min/moment.min.js"></script>
    <script src="vendors/bootstrap-daterangepicker/daterangepicker.js"></script>
      <!-- Ion.RangeSlider -->
    <script src="vendors/ion.rangeSlider/js/ion.rangeSlider.min.js"></script>
      <!-- jquery.inputmask -->
    <script src="vendors/jquery.inputmask/dist/min/jquery.inputmask.bundle.min.js"></script>
    <!-- jQuery Knob -->
    <script src="vendors/jquery-knob/dist/jquery.knob.min.js"></script>
    

    <!-- Custom Theme Scripts -->
    <script src="build/js/custom.min.js"></script>
    
     <!-- Initialize datetimepicker -->
<script>
    $('#myDatepicker').datetimepicker();
    
    $('#myDatepicker2').datetimepicker({
        format: 'YYYY-MM-DD'
    });
    
    $('#myDatepicker3').datetimepicker({
        format: 'hh:mm A'
    });
    
    $('#myDatepicker4').datetimepicker({
        ignoreReadonly: true,
        allowInputToggle: true
    });

    $('#datetimepicker6').datetimepicker();
    
    $('#datetimepicker7').datetimepicker({
        useCurrent: false
    });
    
    $("#datetimepicker6").on("dp.change", function(e) {
        $('#datetimepicker7').data("DateTimePicker").minDate(e.date);
    });
    
    $("#datetimepicker7").on("dp.change", function(e) {
        $('#datetimepicker6').data("DateTimePicker").maxDate(e.date);
    });
</script>
 <!-- Datatables -->
    <script src="../vendors/datatables.net/js/jquery.dataTables.min.js"></script>
    <script src="../vendors/datatables.net-bs/js/dataTables.bootstrap.min.js"></script>
    <script src="../vendors/datatables.net-buttons/js/dataTables.buttons.min.js"></script>
    <script src="../vendors/datatables.net-buttons-bs/js/buttons.bootstrap.min.js"></script>
    <script src="../vendors/datatables.net-buttons/js/buttons.flash.min.js"></script>
    <script src="../vendors/datatables.net-buttons/js/buttons.html5.min.js"></script>
    <script src="../vendors/datatables.net-buttons/js/buttons.print.min.js"></script>
    <script src="../vendors/datatables.net-fixedheader/js/dataTables.fixedHeader.min.js"></script>
    <script src="../vendors/datatables.net-keytable/js/dataTables.keyTable.min.js"></script>
    <script src="../vendors/datatables.net-responsive/js/dataTables.responsive.min.js"></script>
    <script src="../vendors/datatables.net-responsive-bs/js/responsive.bootstrap.js"></script>
    <script src="../vendors/datatables.net-scroller/js/dataTables.scroller.min.js"></script>
    <script src="../vendors/jszip/dist/jszip.min.js"></script>
    <script src="../vendors/pdfmake/build/pdfmake.min.js"></script>
    <script src="../vendors/pdfmake/build/vfs_fonts.js"></script>
	
<!-- <!-- 	<script type="text/javascript">  --> -->
<!-- // 	$(function() -->
<!-- // 	{ -->
<!-- // 	$(".repetition").load("form.html"); -->
<!-- // 	}); -->
<!-- <!-- 	</script> --> -->
	
<!-- 	</script> -->
	
	<script type="text/javascript">
	$(document).ready(function() {

	    
	    var readURL = function(input) {
	        if (input.files && input.files[0]) {
	            var reader = new FileReader();

	            reader.onload = function (e) {
	                $('.avatar').attr('src', e.target.result);
	            }
	    
	            reader.readAsDataURL(input.files[0]);
	        }
	    }
	    

	    $(".file-upload").on('change', function(){
	        readURL(this);
	    });
	});
	</script>
	 
  </body>
</html>
