<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <!-- Meta, title, CSS, favicons, etc. -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="icon" href="images/favicon.ico" type="image/ico" />

    <title>Action edite </title>

       <!-- Bootstrap -->
    <link href="../vendors/bootstrap/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Font Awesome -->
    <link href="vendors/font-awesome/css/font-awesome.min.css" rel="stylesheet">
    <!-- NProgress -->
    <link href="vendors/nprogress/nprogress.css" rel="stylesheet">
    <!-- bootstrap-daterangepicker -->
    <link href="vendors/bootstrap-daterangepicker/daterangepicker.css" rel="stylesheet">
    <!-- bootstrap-datetimepicker -->
    <link href="vendors/bootstrap-datetimepicker/build/css/bootstrap-datetimepicker.css" rel="stylesheet">
    <!-- Ion.RangeSlider -->
    <link href="vendors/normalize-css/normalize.css" rel="stylesheet">
    <link href="vendors/ion.rangeSlider/css/ion.rangeSlider.css" rel="stylesheet">
    <link href="vendors/ion.rangeSlider/css/ion.rangeSlider.skinFlat.css" rel="stylesheet">
    <!-- Bootstrap Colorpicker -->
    <link href="vendors/mjolnic-bootstrap-colorpicker/dist/css/bootstrap-colorpicker.min.css" rel="stylesheet">

    <link href="vendors/cropper/dist/cropper.min.css" rel="stylesheet">

    <!-- Custom Theme Style -->
    <link href="build/css/custom.min.css" rel="stylesheet">
        
<!--   <script type="text/javascript" src="jquery.js"></script> -->
 

<!-- <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script> -->


    
  </head>

  <body class="nav-md">
    <div class="container body">
      <div class="main_container">
       <div th:replace = "form :: form1"> </div>
                   
<div class="right_col" role="main">
<!--           <div class=""> -->
            <div class="page-title">
              <div class="title_left">
                <h3><b>Modifier action</b></h3>
              </div>

              
            </div>
            <div class="clearfix"></div>
<div class="row">
              <div class="col-md-12 col-sm-12 col-xs-12">
                
<div class="alert alert-success" th:if="${msgS}">
<div><h4  th:text="${msgS}" ></h4>
</div></div>
<div class="alert alert-danger" th:if="${msgE}">
<div><h4  th:text="${msgE}" ></h4>
</div></div>
<div class="alert alert-warning" th:if="${msgW}">
<div><h4  th:text="${msgW}" ></h4>
</div></div>


<div class="panel panel-success">

    
  <div class="panel-body">
<form th:action="@{/ActUpdate}" method="post">
 
    <div class="form-group">
      <label for="UNom">Nom</label>
      <input type="text" class="form-control" id="UNom" name="UNom" th:value="${actionE.getNom()}" placeholder="Nom de l'evenement">
    </div>
    <div class="form-group">
    <label for="UObjectif">Objectif</label>
    <textarea class="form-control" id="UObjectif" th:text="${actionE.getObjectif()}"  name="UObjectif"></textarea>
    <!-- th:text="${action.getObjectif()}" -->
  </div>
  <div class="form-row">
    <div class="col-md-4 mb-3" >
  <label for="UQuartier">Quartier</label>
  <select class="form-control" id="UQuartier" name="UQuartier" >
   <option th:text="${actionE.getQuartier().getNom()}" th:value="${actionE.getQuartier().getIdQuartier()}"></option>
    <option th:if="${q.getNom()!=actionE.getQuartier().getNom()}" th:each="q : ${quartiers}"  th:value="${q.getIdQuartier()}" th:text="${q.getNom()}"></option>
  <!--<option th:text="${q.getNom()}"></option>
   <select class="form-control" id="seletQuartier" name="seletQuartier">
  <option>Quartier 1</option>
  <option>Quartier 2</option> -->
</select>
</div>
<div class="col-md-4 mb-3">
<label for="UProjet">Projet</label>
  <select class="form-control" id="UProjet" name="UProjet" >
  <option th:text="${actionE.getProjet().getNom()}" th:value="${actionE.getProjet().getIdProjet()}"></option>
    <option th:if="${p.getNom()!=actionE.getProjet().getNom()}" th:each="p : ${projets}"  th:value="${p.getIdProjet()}" th:text="${p.getNom()}"></option>
  <!-- <option>projet 1</option>
  <option>projet 2</option> -->
</select>
</div>
<div class="col-md-4 mb-3">
<label for="UTypeAction">Type action</label>
  <select class="form-control" id="UTypeAction" name="UTypeAction">
  
  <option th:text="${actionE.getTypeaction().getNom()}" th:value="${actionE.getTypeaction().getId_typeAction()}"></option>
    <option th:each="t : ${typesAct}" th:if="${t.getNom()!=actionE.getTypeaction().getNom()}"   th:value="${t.getId_typeAction()}" th:text="${t.getNom()}"></option>
</select>
</div>
</div>
<div class="form-row">
    <div class="col-md-4 mb-3">
<label for="ASituation">Situation</label>
  <select class="form-control" id="ASituation" name="ASituation">
  <option th:text="${actionE.getSituation().getNom()}" th:value="${actionE.getSituation().getIdSituation()}"></option>
    <option th:if="${s.getNom()!=actionE.getSituation().getNom()}" th:each="s : ${situations}"  th:value="${s.getIdSituation()}" th:text="${s.getNom()}"></option>
  <!-- <option>situation 1</option>
  <option>situation 2</option> -->
</select>
</div>


    <div class="col-md-4 mb-3">
      <label for="inputImpact">Impact</label>
      <input type="number" class="form-control" id="inputImpact" name="UImpact" th:value="${actionE.getImpact()}" placeholder="1" min="0" >
    </div>
  <div class="col-md-4 mb-3">
      <label for="inputBudget">Budget<small > (MAD)</small></label>
      <input type="number" step="any" class="form-control" id="inputBudget" name="UBudget" th:value="${actionE.getBudget()}"  min="0" >
    </div>
    </div>
    <div class="form-row">
    <div class="col-md-4 mb-3">
<label for="UProjet">Projet</label>
  <select class="form-control" id="UProjetp" name="UProjetp" >
  <option th:text="${actionE.getProjet().getNom()}" th:value="${actionE.getProjet().getIdProjet()}"></option>
    <option th:if="${p.getNom()!=actionE.getProjet().getNom()}" th:each="p : ${projets}"  th:value="${p.getIdProjet()}" th:text="${p.getNom()}"></option>
  <!-- <option>projet 1</option>
  <option>projet 2</option> -->
</select>
</div>
  <!-- <div class="col-md-3 mb-3">
     <label for="seletCible">cible</label>
  <select class="form-control" id="seletCible" name="seletCible">
  <option>Cible 1</option>
  <option>Cible 2</option>
</select>
    </div> -->
  
  <div class="col-md-4 mb-3">
  <label for="inputDateR">Date Realisation</label>
    <!-- <input type="text" class="form-control" id="inputDateR" name="inputDateR" placeholder="00/00/0000"> -->
<!--     <input class="form-control" id="myDatepicker2" name="myDatepicker2" placeholder="Date de dÃ©but" type="text"/> -->
    <div class='input-group date' id='myDatepicker2'>
                            <input type='text' class="form-control"id="dateDebut" th:value="${actionE.getDateRealisation()}" name="dateDebut" />
                             <span class="input-group-addon">
                               <span class="glyphicon glyphicon-calendar"></span>
                            </span>
     <span th:if="${MsgDate}" role="alert" th:text="${MsgDate}" style="color:#FF0000"></span>
   
 
  </div>
  </div>
<!--     <label for="inputDateR">Date Realisation</label> -->
<!--     <input type="text" class="form-control" id="inputDateR" name="inputDateR" placeholder="00/00/0000"> --> 
<!--     <input class="form-control" id="dateDebut" name="dateDebut" th:value="${actionE.getDateRealisation()}" type="text"/> -->
<!--     </div> -->
     <div class="col-md-4 mb-3">
    <label for="inputDatec">Date Creation</label>
      <div class='input-group date' id='myDatepicker2'>
<!--     <input type="text" class="form-control" id="inputDateR" name="inputDateR" placeholder="00/00/0000"> -->
    <input class="form-control" id="datecreation" name="datecreation" th:value="${actionE.getDateCreation()}" readonly type="text"/>
    <span class="input-group-addon" disabled="disabled">
                               <span class="glyphicon glyphicon-calendar"></span>
                            </span>
                            </div>
    
 </br>
    </div>
  
  </div>
 

  <div  class="class-row">
 
 <button type="submit" name="UpdateId" class="btn btn-success  pull-right" th:value="${actionE.getIdAction()}"><b>Modifier</b></button>
  </div>

</form>
 </div>
</div>

<script>
//     $(document).ready(function(){
//       var date_input=$('input[name="dateDebut"]'); //our date input has the name "date"
//       var container=$('.bootstrap-iso form').length>0 ? $('.bootstrap-iso form').parent() : "body";
//       var options={
//         format: 'yyyy-mm-dd',
//         container: container,
//         todayHighlight: true,
//         autoclose: true,
//       };
//       date_input.datepicker(options);
//     })
</script>
<script type="text/javascript">
  $(function() {
    $('#datetimepicker4').datetimepicker({
      pickTime: false
    });
  });
</script>


 


<script type="text/javascript">
$(document).ready(function() {

   
   var readURL = function(input) {
       if (input.files && input.files[0]) {
           var reader = new FileReader();

           reader.onload = function (e) {
               $('.avatar').attr('src', e.target.result);
           }
   
           reader.readAsDataURL(input.files[0]);
       }
   }
   

   $(".file-upload").on('change', function(){
       readURL(this);
   });
});
</script>

              </div>
            </div>
            </div></div>
            </div>
           
        <!-- /page content -->

        

   
    
    
    
    
    
     <!-- jQuery -->
    <script src="vendors/jquery/dist/jquery.min.js"></script>
    <!-- Bootstrap -->
    <script src="vendors/bootstrap/dist/js/bootstrap.min.js"></script>
    <!-- FastClick -->
    <script src="vendors/fastclick/lib/fastclick.js"></script>
    <!-- NProgress -->
    <script src="vendors/nprogress/nprogress.js"></script>
    <!-- bootstrap-daterangepicker -->
    <script src="vendors/moment/min/moment.min.js"></script>
    <script src="vendors/bootstrap-daterangepicker/daterangepicker.js"></script>
    <!-- bootstrap-datetimepicker -->    
    <script src="vendors/bootstrap-datetimepicker/build/js/bootstrap-datetimepicker.min.js"></script>
    <!-- Ion.RangeSlider -->
    <script src="vendors/ion.rangeSlider/js/ion.rangeSlider.min.js"></script>
    <!-- Bootstrap Colorpicker -->
    <script src="vendors/mjolnic-bootstrap-colorpicker/dist/js/bootstrap-colorpicker.min.js"></script>
    <!-- jquery.inputmask -->
    <script src="vendors/jquery.inputmask/dist/min/jquery.inputmask.bundle.min.js"></script>
    <!-- jQuery Knob -->
    <script src="vendors/jquery-knob/dist/jquery.knob.min.js"></script>
    <!-- Cropper -->
    <script src="vendors/cropper/dist/cropper.min.js"></script>

    <!-- Custom Theme Scripts -->
    <script src="build/js/custom.min.js"></script>
    
    <!-- Initialize datetimepicker -->
<script>
    $('#myDatepicker').datetimepicker();
    
    $('#myDatepicker2').datetimepicker({
        format: 'YYYY-MM-DD'
    });
    
    $('#myDatepicker3').datetimepicker({
        format: 'hh:mm A'
    });
    
    $('#myDatepicker4').datetimepicker({
        ignoreReadonly: true,
        allowInputToggle: true
    });

    $('#datetimepicker6').datetimepicker();
    
    $('#datetimepicker7').datetimepicker({
        useCurrent: false
    });
    
    $("#datetimepicker6").on("dp.change", function(e) {
        $('#datetimepicker7').data("DateTimePicker").minDate(e.date);
    });
    
    $("#datetimepicker7").on("dp.change", function(e) {
        $('#datetimepicker6').data("DateTimePicker").maxDate(e.date);
    });
</script>

   
	
  </body>
</html>
